TITLE MULT16
	.Z80
	cseg
	ENTRY	MULT16
MULT16:
;
;	General purpose 16 bit divide
;
;	HL = HL * DE
;
;
	LD	IX,0		;THIS IS THE 16 BIT ACCUMULATOR
	LD	B,16		;THE NUMBER OF BITS TO SHIFT
;
MUL1:
	ADD	IX,IX		;SHIFT ACC AND MULTIPLIER 1 LEFT
	ADD	HL,HL
;
	JP	NC,MUL2		;IF NO CARRY
	ADD	IX,DE		;DONT DO THE ADD
;
MUL2:
	DJNZ	MUL1		;GO BACK IF MORE
	PUSH	IX		;SET THE RETURN VALUES
	POP	HL
	RET
	END

